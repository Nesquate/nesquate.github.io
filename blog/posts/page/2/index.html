<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | 美代子隨筆</title><meta name=keywords content><meta name=description content="Posts - 美代子隨筆"><meta name=author content="Nesquate"><link rel=canonical href=https://nesquate.tw/blog/posts/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/blog/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://nesquate.tw/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nesquate.tw/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://nesquate.tw/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://nesquate.tw/blog/apple-touch-icon.png><link rel=mask-icon href=https://nesquate.tw/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://nesquate.tw/blog/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content="隨便寫寫，想寫就寫（？）"><meta property="og:type" content="website"><meta property="og:url" content="https://nesquate.tw/blog/posts/"><meta property="og:image" content="https://nesquate.tw/blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="美代子隨筆"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://nesquate.tw/blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="隨便寫寫，想寫就寫（？）"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://nesquate.tw/blog/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nesquate.tw/blog accesskey=h title="美代子隨筆 (Alt + H)"><img src=https://nesquate.tw/blog/apple-touch-icon.png alt aria-label=logo height=35>美代子隨筆</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nesquate.tw/blog/archives/ title=彙整><span>彙整</span></a></li><li><a href=https://nesquate.tw/blog/categories/ title=分類><span>分類</span></a></li><li><a href=https://nesquate.tw/blog/tags/ title=標籤><span>標籤</span></a></li><li><a href=https://nesquate.tw/blog/about/ title=關於><span>關於</span></a></li><li><a href=https://nesquate.tw/blog/search/ title="搜尋 (Alt + /)" accesskey=/><span>搜尋</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Posts
<a href=index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2>Minecraft 改存檔名稱，請留意一下 level.dat...</h2></header><div class=entry-content><p>會有這問題，主要是因為我經營的伺服器所使用的 MCDiscordChat 在我更改存檔資料夾的名稱之後經常噴錯：
[01:13:37] [Timer-2/ERROR]: Uncaught exception in thread "Timer-2" java.io.UncheckedIOException: RealmsMain/stats at org.apache.commons.io.FileUtils.listFiles(FileUtils.java:2153) ~[commons-io-2.11.0.jar:?] at top.xujiayao.mcdiscordchat.utils.Utils$2.run(Utils.java:255) ~[MCDiscordChat-1.19-2.0.0-alpha.5.jar:?] at java.util.TimerThread.mainLoop(Unknown Source) ~[?:?] at java.util.TimerThread.run(Unknown Source) ~[?:?] Caused by: java.nio.file.NoSuchFileException: RealmsMain/stats at sun.nio.fs.UnixException.translateToIOException(Unknown Source) ~[?:?] at sun.nio.fs.UnixException.rethrowAsIOException(Unknown Source) ~[?:?] at sun.nio.fs.UnixException.rethrowAsIOException(Unknown Source) ~[?:?] at sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(Unknown Source) ~[?:?] at sun.nio.fs.UnixFileSystemProvider.readAttributes(Unknown Source) ~[?:?] at sun.nio.fs.LinuxFileSystemProvider.readAttributes(Unknown Source) ~[?:?] at java.nio.file.Files.readAttributes(Unknown Source) ~[?:?] at java.nio.file.FileTreeWalker.getAttributes(Unknown Source) ~[?:?] at java.nio.file.FileTreeWalker.visit(Unknown Source) ~[?:?] at java.nio.file.FileTreeWalker.walk(Unknown Source) ~[?:?] at java....</p></div><footer class=entry-footer><span title='2022-07-31 00:00:00 +0000 UTC'>July 31, 2022</span>&nbsp;·&nbsp;Nesquate</footer><a class=entry-link aria-label="post link to Minecraft 改存檔名稱，請留意一下 level.dat..." href=https://nesquate.tw/blog/posts/minecraft-%E6%94%B9%E5%AD%98%E6%AA%94%E5%90%8D%E7%A8%B1%E8%AB%8B%E7%95%99%E6%84%8F%E4%B8%80%E4%B8%8B-level-dat/></a></article><article class=post-entry><header class=entry-header><h2>Minecraft Fabric Server Mod 開發筆記 - (1) Mod 生命週期</h2></header><div class=entry-content><p>Fabric API 新版 Lifecycle 的幾個比較重要的生命週期（依照 println() （Kotlin) 印出結果來記錄）
ServerLifecycleEvents.SERVER_STARTING: 發生在 “Starting minecraft server version xxx” 之前，在 Fabric Loader 載入之後 官方在相關 class 檔案內的註解為在 PlayerManager 載入之前 (PlayerManager 用來載入 OP、黑白名單等玩家相關名單) 猜測適用於自訂方塊載入、可能對存檔內容初始化有影響的內容 ServerLifecycleEvents.SERVER_STARTED: 發生在 “Done (x.xxxs)! For help, type “help"“之後 官方表示此時存檔已經載入完畢 猜測適用於管理玩家、存檔後續設定、網路相關服務的啟動等內容 ServerLifecycleEvents.SERVER_STOPPING: 在觸發 /stop 指令後的瞬間發生 官方表示此時網路連線並未中斷，存檔、玩家資料等仍可以進行操作 猜測適用於停止網路相關服務、針對伺服器停止時玩家的行為等內容 ServerLifecycleEvents.SERVER_STOPPED: 發生於存檔已經儲存完畢之時 官方表示此時存檔、玩家資料等已經無法再存取 猜測適用於非常底層的卸載動作 (不在任何生命週期內) 發生於 datafixer 載入後的瞬間 目前我還不知道這週期可以做什麼 onInitialize() 的程式碼：
override fun onInitialize() { ServerLifecycleEvents.SERVER_STARTING.register { server: MinecraftServer -> println("Happened on server starting") } ServerLifecycleEvents.SERVER_STARTED.register { server: MinecraftServer -> println("Happened on server started") } ServerLifecycleEvents....</p></div><footer class=entry-footer><span title='2022-07-28 00:00:00 +0000 UTC'>July 28, 2022</span>&nbsp;·&nbsp;Nesquate</footer><a class=entry-link aria-label="post link to Minecraft Fabric Server Mod 開發筆記 - (1) Mod 生命週期" href=https://nesquate.tw/blog/posts/minecraft-fabric-server-mod-%E9%96%8B%E7%99%BC%E7%AD%86%E8%A8%98-1-mod-%E7%94%9F%E5%91%BD%E9%80%B1%E6%9C%9F/></a></article><article class=post-entry><header class=entry-header><h2>在 Arch Linux 安裝最新版的 LINE 總整理</h2></header><div class=entry-content><p>關於 Arch Linux 怎麼灌 LINE 的步驟，我已經在 PTT 上 (https://www.ptt.cc/bbs/Linux/M.1657093067.A.B49.html) 有初步分享，經由鄉民們的補充後，誕生出這篇文章。
整理出這篇就是希望以後自己在安裝 Arch Linux 的時候有點脈落，而不是缺啥補啥，搞到時間都浪費掉。
安裝 Wine 以及套件庫 首先必須打開 multilib 軟體庫，以 root 權限用文字編輯器開啟 /etc/pacman.conf 之後，取消註解下列內容：
[multilib] Include = /etc/pacman.d/mirrorlist 存檔之後，下 sudo pacman -Syu 重新同步軟體庫資料庫，之後安裝 Wine 與 Winetricks：
sudo pacman -S wine winetricks 據 PTT 鄉民的回報，還需要加裝以下兩個 Library 才可以讓 LINE 的媒體功能正常運作（看圖以及影片聲音）：
sudo pacman -S lib32-openal lib32-libpulse 設定 LINE 的執行環境 一樣是據 PTT 鄉民回報，最新版的 LINE 需要 64 位元的環境 + Visual C++ 2012 Runtime 才可以運行。
首先建立一個 LINE 專屬的 Wine 執行環境...</p></div><footer class=entry-footer><span title='2022-07-13 00:00:00 +0000 UTC'>July 13, 2022</span>&nbsp;·&nbsp;Nesquate</footer><a class=entry-link aria-label="post link to 在 Arch Linux 安裝最新版的 LINE 總整理" href=https://nesquate.tw/blog/posts/%E5%9C%A8-arch-linux-%E5%AE%89%E8%A3%9D%E6%9C%80%E6%96%B0%E7%89%88%E7%9A%84-line-%E7%B8%BD%E6%95%B4%E7%90%86/></a></article><article class=post-entry><header class=entry-header><h2>設定 Cloudflare 導致瀏覽器出現「ERR_TOO_MANY_REDIRECTS」的錯誤</h2></header><div class=entry-content><p>都自己用 VPS 架設 WordPress 部落格了，VPS 的流量也算是寸土寸金等級的 (如果流量爆掉的話)，遲早上一下 CDN 以避免流量爆炸。
只是很奇怪，在 Cloudflare 開啟後台 Proxy 之後，Chrome 直接噴「ERR_TOO_MANY_REDIRECTS」後就不給我瀏覽，架站設定初期還不知道這是什麼原因，所以之前是直接關掉 CDN 的。
但總不能一直關掉然後搞到流量爆炸吧，所以稍微認真去爬文一下，才在一篇 GitHub Gist 上看到原來需要調整 Cloudflare 的設定……。
爬了文後發現，以 Cloudflare 的預設模式 (彈性) 來說，會在伺服器端連線到 HTTP (Port 80)，而訪客瀏覽則是由 Cloudflare 提供的 HTTPS (Port 443) 連線，但是因為 Caddy Server 這邊早就對 HTTP 做重定向 (Redirect) 了，所以 Cloudflare 連線到伺服器的那方就會連不到 HTTP，就變成無限重定向了。
如同這篇文說到的結果，但當時我對於到底該怎麼設定還是沒概念XD
所以如果確定伺服器有提供完整的 HTTPS，那就要改成「完整」或是「完整 (嚴格)」。
在撰文的同時，我想起來其實以前在自架 WordPress + Cloudflare (那時候還是 Shared Hosting) 我明明有注意到這點，但怎麼在這時候忘記了呢？而且明明之前用 yinyin.dev 也沒出現過這種問……。
啊對欸，.dev 網域強制 HSTS，Cloudflare 那邊就算是彈性的策略也會受到 HSTS 影響，難怪之前沒遇到Orz</p></div><footer class=entry-footer><span title='2022-05-15 00:00:00 +0000 UTC'>May 15, 2022</span>&nbsp;·&nbsp;Nesquate</footer><a class=entry-link aria-label="post link to 設定 Cloudflare 導致瀏覽器出現「ERR_TOO_MANY_REDIRECTS」的錯誤" href=https://nesquate.tw/blog/posts/%E8%A8%AD%E5%AE%9A-cloudflare-%E5%B0%8E%E8%87%B4%E7%80%8F%E8%A6%BD%E5%99%A8%E5%87%BA%E7%8F%BEerr-too-many-redirects%E7%9A%84%E9%8C%AF%E8%AA%A4/></a></article><article class=post-entry><header class=entry-header><h2>與 Vista 重新見面</h2></header><div class=entry-content><p>目前的進度，如果可以我還是希望能夠把整套 Windows Live Wave 2 找過來…
跟同學討論到 Windows Aero 的時候剛好提到 Windows Vista，沒想到不是只有我一個人覺得 Windows 7 與 Windows Vista 的 Aero 整體感覺很不一樣…。
於是想說趁著自己還沒入睡之前，把 Vista 裝起來玩玩，不過光是找 ISO 檔案就差點碰壁了 (還好還有萬能的 MDL Forum 找得到)，找繁體中文台灣語言包也是一大難題，因為當時的政治環境使得原本有台灣的語言包在 Windows Update 上被迫下架，中國真是好樣的= =
剛裝好 Vista 其實不知道現在的 Vista 可以裝什麼，我差點以為 VMware 的驅動程式會因為沒有 SHA-2 更新包而不能裝，還好還可以。後來想到 Escargot 這個把 MSN、Yahoo 即時通等老人服務叫回來的專案，就把 MSN 8.5 找回來當作應景之物。
在寫文的當下我又想到還有 Office 2007 可以裝，這樣整套裝下來應該就有當年在用 Vista 時的感覺了吧？我沒有經歷過，說實在的我還滿難過的，錯過了一個短暫的時代。</p></div><footer class=entry-footer><span title='2022-05-12 00:00:00 +0000 UTC'>May 12, 2022</span>&nbsp;·&nbsp;Nesquate</footer><a class=entry-link aria-label="post link to 與 Vista 重新見面" href=https://nesquate.tw/blog/posts/%E8%88%87-vista-%E9%87%8D%E6%96%B0%E8%A6%8B%E9%9D%A2/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://nesquate.tw/blog/posts/>«&nbsp;Prev&nbsp;</a>
<a class=next href=https://nesquate.tw/blog/posts/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://nesquate.tw/blog>美代子隨筆</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>